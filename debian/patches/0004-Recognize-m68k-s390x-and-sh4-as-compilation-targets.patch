From 839a2d18f8929edabf57c02b7601fae597f780a4 Mon Sep 17 00:00:00 2001
From: Rob Browning <rlb@defaultvalue.org>
Date: Tue, 16 Sep 2014 19:43:29 -0500
Subject: Recognize m68k, s390x, and sh4 as compilation targets

Author: Rob Browning <rlb@defaultvalue.org>
Added-by: Rob Browning <rlb@defaultvalue.org>
---
 module/system/base/target.scm | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/module/system/base/target.scm b/module/system/base/target.scm
index 9d65184..a035abe 100644
--- a/module/system/base/target.scm
+++ b/module/system/base/target.scm
@@ -65,10 +65,10 @@
       (cond ((string-match "^i[0-9]86$" cpu)
              (endianness little))
             ((member cpu '("x86_64" "ia64"
-                           "powerpcle" "powerpc64le" "mipsel" "mips64el"))
+                           "powerpcle" "powerpc64le" "mipsel" "mips64el" "sh4"))
              (endianness little))
             ((member cpu '("sparc" "sparc64" "powerpc" "powerpc64" "spu"
-                           "mips" "mips64"))
+                           "mips" "mips64" "m68k" "s390x"))
              (endianness big))
             ((string-match "^arm.*el" cpu)
              (endianness little))
@@ -104,7 +104,8 @@
 
           ((string-match "64$" cpu) 8)
           ((string-match "64_?[lbe][lbe]$" cpu) 8)
-          ((member cpu '("sparc" "powerpc" "mips" "mipsel")) 4)
+          ((member cpu '("sparc" "powerpc" "mips" "mipsel" "m68k" "sh4")) 4)
+          ((member cpu '("s390x")) 8)
           ((string-match "^arm.*" cpu) 4)
           (else (error "unknown CPU word size" cpu)))))
 
